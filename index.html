<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spelling Bee Practice</title>
<style>
  body {
    font-family: "Poppins", Arial, sans-serif;
    text-align: center;
    background: #fffbee;
    margin-top: 50px;
    color: #333;
  }
  h1 { color: #222; }
  input {
    font-size: 1.2rem;
    padding: 8px;
    width: 300px;
    border-radius: 6px;
    border: 1px solid #aaa;
  }
  button {
    font-size: 1.1rem;
    margin: 10px;
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    background: #ffce00;
    transition: all 0.2s ease;
  }
  button:hover { background: #ffd633; }
  button:disabled { background: #ddd; cursor: not-allowed; }
  .correct { color: green; font-weight: bold; }
  .incorrect { color: red; font-weight: bold; }
  #progress {
    width: 80%;
    margin: 20px auto;
    background: #ddd;
    border-radius: 10px;
    overflow: hidden;
    height: 20px;
  }
  #bar {
    height: 100%;
    background: #4CAF50;
    width: 0%;
    transition: width 0.4s ease;
  }
  #feedback { margin: 10px; height: 40px; }
  select {
    padding: 6px 8px;
    border-radius: 6px;
    border: 1px solid #aaa;
    font-size: 1rem;
  }
  #missedWords {
    margin-top: 20px;
    font-size: 1rem;
    color: #c00;
  }
</style>
</head>
<body>

<h1>üêù Spelling Bee Practice</h1>

<!-- üéì Grade dropdown -->
<label for="gradeSelect"><b>Select Grade:</b></label>
<select id="gradeSelect"></select>
<br><br>

<!-- üéôÔ∏è Voice selector -->
<label for="voiceSelect"><b>Choose voice:</b></label>
<select id="voiceSelect"></select>
<br><br>

<p id="prompt">Press "Start" to begin!</p>

<input
  id="answer"
  type="text"
  placeholder="Type the word..."
  disabled
  autocomplete="off"
  autocorrect="off"
  autocapitalize="off"
  spellcheck="false"
/>
<br>
<button id="start">Start</button>
<button id="repeat" disabled>üîÅ Repeat Word</button>
<button id="submit" disabled>Submit</button>

<div id="feedback"></div>

<div id="progress">
  <div id="bar"></div>
</div>

<p id="score">Score: 0 / 0</p>
<div id="missedWords"></div>

<script>
const wordLists = {
  "4th Grade": [
    "hesitate","scorcher","scavenger","fragments","deflated","unleash",
    "ration","cosmetics","crawdad","frustration","unruly","mascot",
    "aroma","moustache","mustache","artifacts","artefacts","perfume",
    "discoveries","sinister","tuxedo","prognosis","lurches","language",
    "gallop","buffalo","sequins","fluently","fabulous","lanky",
    "sardines","mysterious","brandished","rickety","anguish","conical",
    "porridge","lilt","pediatric","beige","democracy","rummage",
    "gaunt","ancestral","grimace","nautical","enormous","geranium",
    "foreign","dubious","ebony","paltry"
  ],
  "5th Grade": [
    "verdict","garbled","encourages","imitation","miniature","receptionist",
    "preamble","plausible","reprimanding","commotion","oblivion","immigrants",
    "steeple","spectators","lanyards","suspicious","parchment","ramshackle",
    "fugitive","heron","dissolving","nomad","billowed","skewer","Berlin",
    "lunacy","conjure","bracken","noggin","neon","rakish","hypnosis",
    "rotunda","gusto","toiletries","gleaned","jeered","winsome","prattling",
    "galore","emporium","atrium","eccentric","savant","almanac","hippies",
    "samosas","campaign","pistachio","mosque"
  ],
  "6th Grade": [
    "zombielike","warlock","colossus","convulsively","dimensional","garishly",
    "graffitist","Everest","dexterity","cavorting","marauder","conscience",
    "battlements","deferential","albatross","khaki","opalescent","asphalt",
    "Yiddish","talcum","tranquilizer","equestrian","plaited","monsieur",
    "manticores","prestigious","fraidycat","guttural","lo","mein","courier",
    "sans","serif","psyche","stucco","Frankenstein","schema","et","cetera",
    "vidimus","delphine","slough","archipelago","serape","puissance",
    "pinioning","chignon","pheromone","galleon","magnanimous","chartreuse",
    "wainscoting","Nehru"
  ],
  "7th Grade": [
    "gangly","swaggering","chimneys","riveted","plaid","dirge","zeal",
    "whittled","depots","fiberglass","salvaged","fissures","enthusiastic",
    "discipline","unfamiliar","scurrying","dignitaries","pizzeria","dismissal",
    "skittish","careened","nomination","opportunist","dictatorship","comrades",
    "sporadic","promenade","repugnant","invincible","renowned","parachute",
    "laborious","appointment","foreseeable","ratify","scalpel","reclusive",
    "compassionate","bulletin","alfalfa","officially","confidant","bayonet",
    "amicable","exuberant","beautician","equations","assignment","ultimatum",
    "whinnying"
  ],
  "8th Grade": [
    "squalor","memoirs","cylinders","ominous","muffler","syndrome","premises",
    "safari","lasagna","substantially","mercantile","formidable","propaganda",
    "marquee","proficient","compunction","emphatically","hyperventilated",
    "ostracism","onslaught","ruefully","misanthrope","prototype","cravenly",
    "mulberry","hypocritical","chlorine","traumatic","receipts","solemnly",
    "begrudge","contentious","precocious","ensemble","cadre","lye","belfry",
    "lacrosse","sluice","cajolery","vigilance","residuals","boutique",
    "peroxide","aristocracy","apocalypse","tuberculosis","barricade","confreres",
    "anonymously","unparalleled","barrette","chassis","junket","quandary",
    "Erie","gingham","silhouette","auxiliary","thesaurus","patriarchs",
    "chandelier","dulce","concierge","latticework","hibiscus","tamale","maracas",
    "gyroplane","burpees","Adriatic","piccolo","au","revoir","tulle","boll",
    "weevil","camphor","Tucson","paparazzi","pumpernickel","pogrom"
  ]
};

let shuffled = [];
let currentIndex = 0;
let score = 0;
let currentWord = "";
let missed = [];
let synth = window.speechSynthesis;
let voices = [];
let selectedVoice = null;
let selectedGrade = "4th Grade";
let words = [...wordLists[selectedGrade]];

// UI Elements
const prompt = document.getElementById("prompt");
const answer = document.getElementById("answer");
const feedback = document.getElementById("feedback");
const scoreDisplay = document.getElementById("score");
const startBtn = document.getElementById("start");
const submitBtn = document.getElementById("submit");
const repeatBtn = document.getElementById("repeat");
const bar = document.getElementById("bar");
const voiceSelect = document.getElementById("voiceSelect");
const gradeSelect = document.getElementById("gradeSelect");
const missedWords = document.getElementById("missedWords");

// Populate grade dropdown
for (
